# ===================================================================== 
# DomU guest configuration 
# ===================================================================== 

seclabel='system_u:system_r:domU_t'

name = "DomU"

kernel = "/xt/domu/Image"
device_tree = "/xt/domu/r8a77951-ulcb-kf-domu.dtb"

#extra = "root=/dev/nfs rw nfsroot=192.168.0.100:/nfs/domu ip=192.168.1.2::192.168.1.1:255.255.255.0:domU:eth0 rootwait console=hvc0"

extra = "root=/dev/xvda1 rw rootwait console=hvc0"
disk = [ 'phy:/dev/mmcblk0p3,xvda1' ]

memory = 2048

vcpus = 1

vif = [ 'bridge=xenbr0,mac=08:00:27:ff:cb:cd' ]

vdispl = [ 'backend=Domain-0,be-alloc=0,connectors=1000:1280x720' ]

on_crash = 'preserve'

# This is autogenerated config part

dt_compatible = [ "shimafuji,kingfisher", "renesas,h3ulcb", "renesas,r8a7795", "renesas,r8a77951" ]

# Clocks and regulators are needed and are in the device tree root,
# but we do not want to copy all root nodes: handle these one by one
dt_passthrough_nodes = [
    "/aliases",
    "/audio_clk_a",
    "/audio_clk_b",
    "/audio_clk_c",
    "/can",
    "/extal",
    "/extalr",
    "/msiof-ref-clock",
    "/pcie_bus",
    "/psci",
    "/scif",
    "/soc",
    "/timer",
    "/audio-clkout",
    "/avb-mch",
    "/keyboard",
    "/leds",
    "/regulator0",
    "/regulator1",
    "/x12",
    "/x23-clock",
    "/versaclk-3",
    "/versaclk-4",
    "/clksndsel",
    "/regulator-snd_3p3v",
    "/regulator-snd_vcc5v",
    "/regulator-wlan_en",
    "/regulator@9",
    "/regulator@11",
    "/regulator@12",
    "/regulator@13",
    "/regulator@14",
    "/regulator@15",
    "/regulator@16",
    "/regulator@17",
    "/kim",
    "/btwilink",
    "/sound@0",
    "/sound@1",
    "/sound@2",
    "/sound@3",
    "/si468x@0",
    "/wl18xx_pcm@0",
    "/usb3s0",
    "/usb_extal",
    "/fixed_serial_clk",
    "/fixed_clk_scif1",
    "/can_clk",
    "/reserved-memory",
    "/vspm_if",
    "/mmngr",
    "/mmngrbuf",
]

dtdev = [
    "/soc/dma-controller@e65a0000",
    "/soc/dma-controller@e65b0000",
    "/soc/dma-controller@e6460000",
    "/soc/dma-controller@e6470000",
    "/soc/dma-controller@e6700000",
    "/soc/dma-controller@e7300000",
    "/soc/dma-controller@e7310000",
    "/soc/ethernet@e6800000",
    "/soc/dma-controller@ec700000",
    "/soc/dma-controller@ec720000",
    "/soc/pcie@fe000000",
    "/soc/pcie@ee800000",
    "/soc/usb@ee000000",
    "/soc/usb@ee080000",
    "/soc/usb@ee080100",
    "/soc/usb@ee0a0000",
    "/soc/usb@ee0a0100",
    "/soc/vspm@fe920000",
    "/soc/vspm@fe960000",
    "/soc/vspm@fe9a0000",
    "/soc/vspm@fe9b0000",
    "/soc/fdpm@fe940000",
    "/soc/fdpm@fe944000",
    "/soc/fcpcs_vc0",
    "/soc/fcpcs_vc1",
]

irqs = [
# i2c@e6510000
    318,
# serial@e6540000
    186,
# serial@e6550000
    187,
# dma-controller@e65a0000
    141,
# dma-controller@e65b0000
    142,
# dma-controller@e6460000
    66,
# dma-controller@e6470000
    67,
# crypto@e6601000
    103,
# dma-controller@e6700000
    231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247,
# dma-controller@e7300000
    251, 345, 252, 346, 248, 340, 341, 342, 343, 344, 249, 250, 347, 348, 349, 350, 351,
# dma-controller@e7310000
    448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 429,
# ethernet@e6800000
    71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,
# can@e6c30000
    218,
# can@e6c38000
    219,
# serial@e6e68000
    185,
# src-0
    384,
# src-1
    385,
# src-2
    386,
# src-3
    387,
# src-4
    388,
# src-5
    389,
# src-6
    390,
# src-7
    391,
# src-8
    392,
# src-9
    393,
# ssi-0
    402,
# ssi-1
    403,
# ssi-2
    404,
# ssi-3
    405,
# ssi-4
    406,
# ssi-5
    407,
# ssi-6
    408,
# ssi-7
    409,
# ssi-8
    410,
# ssi-9
    411,
# dma-controller@ec700000
    352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 382,
# dma-controller@ec720000
    383, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 414, 415,
# pcie@fe000000
    148, 149, 150,
# pcie@ee800000
    180, 181, 182,
# imr-lx4@fe860000
    224,
# imr-lx4@fe870000
    225,
# imr-lx4@fe880000
    226,
# imr-lx4@fe890000
    227,
# vcp4@fe8d0000
    412, 413, 255,
# vcp4@fe910000
    292, 293,
# vcp4@fe900000
    272, 273,
# vspm@fe920000
    497,
# vspm@fe960000
    298,
# vspm@fe9a0000
    476,
# vspm@fe9b0000
    477,
# fdpm@fe940000
    294,
# fdpm@fe944000
    295,
# dma-controller@ffc10000
    480, 481, 482, 483, 484, 485, 486, 487, 488,
# dma-controller@ffc20000
    489, 490, 491, 492, 493, 494, 495, 496, 501,
# impdes0
    471,
# imprtt
    425,
#usb@ee000000
   134,
#usb@ee080100
#usb@ee080000
#usb-phy@ee080200
   140,
#usb@ee0a0100
#usb@ee0a0000
   144,
]

iomem = [
#pinctrl@e6060000
    "e6060,1",
#avs@e60a013c
    "e60a0,1",
#i2c@e6510000
    "e6510,1",
#serial@e6540000
    "e6540,1",
#serial@e6550000
    "e6550,1",
#usb@e6590000
    "e6590,1",
#dma-controller@e65a0000
    "e65a0,1",
#dma-controller@e65b0000
    "e65b0,1",
#dma-controller@e6460000
    "e6460,1",
#dma-controller@e6470000
    "e6470,1",
#crypto@e6601000
    "e6601,1",
#dma-controller@e6700000
    "e6700,10",
#dma-controller@e7300000
    "e7300,10",
#dma-controller@e7310000
    "e7310,10",
#qos@e67e0000
    "e67e0,11",
#ethernet@e6800000
    "e6800,1",
#ethernet@e6800000
    "e6a00,10",
#can@e6c30000
    "e6c30,1",
#can@e6c38000
    "e6c38,1",
#serial@e6e68000
    "e6e68,1",
#sound@ec500000
    "ec500,1",
#sound@ec500000
#avb-mch
    "ec5a0,1",
#sound@ec500000
    "ec540,1",
#sound@ec500000
    "ec541,1",
#sound@ec500000
    "ec760,1",
#sound@ec500000
    "ec000,1",
#sound@ec500000
    "ec008,1",
#sound@ec500000
    "ec100,100",
#dma-controller@ec700000
    "ec700,10",
#dma-controller@ec720000
    "ec720,10",
#pcie@fe000000
    "fe000,80",
#pcie@ee800000
    "ee800,80",
#imr-lx4@fe860000
    "fe860,2",
#imr-lx4@fe870000
    "fe870,2",
#imr-lx4@fe880000
    "fe880,2",
#imr-lx4@fe890000
    "fe890,2",
#vcp4@fe90f000
    "fe90f,1",
#vcp4@fe8d0000
#vcp4@fe8d0000
    "fe8d0,1",
#vcp4@fe910000
#vcp4@fe910000
    "fe910,1",
#vcp4@fe900000
#vcp4@fe900000
    "fe900,1",
#vspm@fe920000
    "fe920,8",
    "fe92f,1",
#vspm@fe960000
    "fe960,8",
    "fe96f,1",
#vspm@fe9a0000
    "fe9a0,8",
    "fe9af,1",
#vspm@fe9b0000
    "fe9b0,8",
    "fe9bf,1",
#fdpm@fe940000
    "fe940,3",
#fdpm@fe940000
    "fe950,1",
#fdpm@fe944000
    "fe944,3",
#fdpm@fe944000
    "fe951,1",
#cmm@fea40000
    "fea40,1",
#cmm@fea50000
    "fea50,1",
#cmm@fea60000
    "fea60,1",
#cmm@fea70000
    "fea70,1",
#dma-controller@ffc10000
    "ffc10,10",
#dma-controller@ffc20000
    "ffc20,10",
#chipid@fff00044
    "fff00,1",
#impdes0
    "ffa00,4",
#imp0
    "ff900,20",
#imp1
    "ff920,20",
#imp2
    "ff940,20",
#imp3
    "ff960,20",
#impsc0
    "ff980,10",
#impsc1
    "ff990,10",
#impsl0
    "ff9c0,10",
#impdm0
    "ffa10,4",
#impc0
    "ffa40,20",
#imprtt
    "ff8d0,1",
#memory@48000000
#    "48000,78000",
#linux,lossy_decompress@54000000
    "54000,3000",
#re-mapped MM_LOSSY_SHARED_MEM_ADDR page
    "0x47fd7,1@0xe0000",
#usb@ee000000
    "ee000,1",
#usb@ee080000
#usb@ee080100
#usb-phy@ee080200
    "ee080,1",
#usb@ee0a0000
#usb@ee0a0100
#usb-phy@ee0a0200
    "ee0a0,1",
]

# End of autogenerated config part
